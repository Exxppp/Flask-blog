{% extends 'base.html' %}

{% block content %}
    <div class="container mt-4">
        {% for msg in get_flashed_messages() %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                {{ msg }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                </button>
            </div>
        {% endfor %}
        {% for title, body, timestamp, name, surname, blog_id in blogs %}
            <div class="card p-3 mt-2">
                <div class="row">
                    <div class="col-md-10">

                        <div class="mt-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="mb-1">{{ title }}</h5>
                            </div>
                            <div class="text-truncate">
                                <p>{{ body }}</p>
                            </div>
                            <div>
                                <a href="{{ url_for('blog', blog_id=blog_id) }}">Read more</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="d-flex flex-row">
                            <div class="ms-2 d-flex flex-column">
                                <div class="d-flex flex-row align-items-center">
                                    <h6>{{ name }} {{ surname }}</h6>
                                    <span class="dots"></span>
                                </div>
                                <span class="days-ago">{{ timestamp }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}